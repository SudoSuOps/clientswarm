# SwarmOS Full Stack Integration

## Complete ENS Identity Map

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         SWARMOS IDENTITY STACK                               â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                         PROTOCOL LAYER                                 â”‚ â”‚
â”‚  â”‚                                                                        â”‚ â”‚
â”‚  â”‚    bee23.eth â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ The Law                                  â”‚ â”‚
â”‚  â”‚    â”‚                         Protocol rules, immutable                â”‚ â”‚
â”‚  â”‚    â”‚                                                                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚       â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚    â–¼                       CONTROL LAYER                              â”‚ â”‚
â”‚  â”‚                                                                        â”‚ â”‚
â”‚  â”‚    swarmos.eth â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ The Queen                                 â”‚ â”‚
â”‚  â”‚    â”‚                        Coordination, routing, epochs             â”‚ â”‚
â”‚  â”‚    â”‚                                                                  â”‚ â”‚
â”‚  â”‚    â”œâ”€â”€ api.swarmos.eth      Bee-1 Controller API                     â”‚ â”‚
â”‚  â”‚    â””â”€â”€ *.swarmos.eth        Future subdomains                        â”‚ â”‚
â”‚  â”‚                                                                        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚       â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚    â–¼                       COMPUTE LAYER                              â”‚ â”‚
â”‚  â”‚                                                                        â”‚ â”‚
â”‚  â”‚    swarmbee.eth â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ The Bees                                  â”‚ â”‚
â”‚  â”‚    â”‚                        Workers, miners, GPU operators            â”‚ â”‚
â”‚  â”‚    â”‚                                                                  â”‚ â”‚
â”‚  â”‚    â”œâ”€â”€ bee-01.swarmbee.eth  Worker node 1 (RTX 5090s)                â”‚ â”‚
â”‚  â”‚    â”œâ”€â”€ bee-02.swarmbee.eth  Worker node 2 (RTX 6000 Ada)             â”‚ â”‚
â”‚  â”‚    â”œâ”€â”€ bee-03.swarmbee.eth  Worker node 3 (RTX 3090s)                â”‚ â”‚
â”‚  â”‚    â””â”€â”€ ...                  Additional workers                        â”‚ â”‚
â”‚  â”‚                                                                        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚       â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚    â–¼                       CLIENT LAYER                               â”‚ â”‚
â”‚  â”‚                                                                        â”‚ â”‚
â”‚  â”‚    clientswarm.eth â”€â”€â”€â”€â”€â”€â”€â”€ The Clients                               â”‚ â”‚
â”‚  â”‚    â”‚                        Clinics, customers, buyers                â”‚ â”‚
â”‚  â”‚    â”‚                                                                  â”‚ â”‚
â”‚  â”‚    â”œâ”€â”€ xyz.clientswarm.eth       XYZ Orthopedic Clinic               â”‚ â”‚
â”‚  â”‚    â”œâ”€â”€ acme.clientswarm.eth      ACME Medical                        â”‚ â”‚
â”‚  â”‚    â”œâ”€â”€ metro.clientswarm.eth     Metro Imaging                       â”‚ â”‚
â”‚  â”‚    â””â”€â”€ ...                       Additional clients                   â”‚ â”‚
â”‚  â”‚                                                                        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚       â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚    â–¼                       SETTLEMENT LAYER                           â”‚ â”‚
â”‚  â”‚                                                                        â”‚ â”‚
â”‚  â”‚    swarmledger.eth â”€â”€â”€â”€â”€â”€â”€â”€ The Ledger â­ NEW                         â”‚ â”‚
â”‚  â”‚    â”‚                        Balances, settlements, payments           â”‚ â”‚
â”‚  â”‚    â”‚                                                                  â”‚ â”‚
â”‚  â”‚    â”œâ”€â”€ api.swarmledger.eth  Ledger API                               â”‚ â”‚
â”‚  â”‚    â””â”€â”€ vault.swarmledger.eth USDC vault address                      â”‚ â”‚
â”‚  â”‚                                                                        â”‚ â”‚
â”‚  â”‚    swarmepoch.eth â”€â”€â”€â”€â”€â”€â”€â”€â”€ The Epochs                                â”‚ â”‚
â”‚  â”‚    â”‚                        Sealed blocks, Merkle roots               â”‚ â”‚
â”‚  â”‚    â”‚                                                                  â”‚ â”‚
â”‚  â”‚    â””â”€â”€ data.swarmepoch.eth  Epoch data archive                       â”‚ â”‚
â”‚  â”‚                                                                        â”‚ â”‚
â”‚  â”‚    swarmbank.eth â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ The Treasury                              â”‚ â”‚
â”‚  â”‚                             USDC holdings, payout pool               â”‚ â”‚
â”‚  â”‚                                                                        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚       â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚    â–¼                       WITNESS LAYER                              â”‚ â”‚
â”‚  â”‚                                                                        â”‚ â”‚
â”‚  â”‚    swarmorb.eth â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ The Orb                                   â”‚ â”‚
â”‚  â”‚                             Explorer, verification, truth            â”‚ â”‚
â”‚  â”‚                                                                        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## eth.limo Deployment Map

| ENS | URL | Status | Purpose |
|-----|-----|--------|---------|
| swarmorb.eth | swarmorb.eth.limo | âœ… LIVE | Epoch explorer |
| swarmos.eth | swarmos.eth.limo | ğŸ“¦ READY | OS landing page |
| clientswarm.eth | clientswarm.eth.limo | ğŸ“¦ READY | Client portal |
| swarmledger.eth | swarmledger.eth.limo | ğŸ“¦ READY | Ledger explorer |
| swarmbee.eth | swarmbee.eth.limo | â³ TODO | Worker registry |
| swarmepoch.eth | swarmepoch.eth.limo | â³ TODO | Epoch archive |
| swarmbank.eth | swarmbank.eth.limo | â³ TODO | Treasury dashboard |
| bee23.eth | bee23.eth.limo | â³ TODO | Protocol docs |

## Service Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           SWARMOS SERVICES                                   â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚   BEE-1     â”‚  â”‚   LEDGER    â”‚  â”‚   REDIS     â”‚  â”‚   IPFS      â”‚       â”‚
â”‚  â”‚  :8000      â”‚  â”‚   :8100     â”‚  â”‚   :6379     â”‚  â”‚   :5001     â”‚       â”‚
â”‚  â”‚             â”‚  â”‚             â”‚  â”‚             â”‚  â”‚             â”‚       â”‚
â”‚  â”‚ Controller  â”‚â—„â–ºâ”‚ Settlement  â”‚â—„â–ºâ”‚ Job Queue   â”‚â—„â–ºâ”‚ Content     â”‚       â”‚
â”‚  â”‚ API         â”‚  â”‚ API         â”‚  â”‚ Workers     â”‚  â”‚ Storage     â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚         â”‚                â”‚                                                   â”‚
â”‚         â”‚                â”‚                                                   â”‚
â”‚         â–¼                â–¼                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                         SQLITE / POSTGRES                            â”‚   â”‚
â”‚  â”‚                                                                       â”‚   â”‚
â”‚  â”‚  swarmledger.db                                                      â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€ accounts (clients, workers, treasury)                           â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€ transactions (all balance changes)                              â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€ deposits (USDC from L1)                                         â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€ withdrawals (payouts to workers)                                â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€ epochs (sealed blocks)                                          â”‚   â”‚
â”‚  â”‚  â””â”€â”€ settlements (per-worker per-epoch)                              â”‚   â”‚
â”‚  â”‚                                                                       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚   BEE-2     â”‚  â”‚   BEE-3     â”‚  â”‚   BEE-4     â”‚  â”‚   BEE-N     â”‚       â”‚
â”‚  â”‚   Worker    â”‚  â”‚   Worker    â”‚  â”‚   Worker    â”‚  â”‚   Worker    â”‚       â”‚
â”‚  â”‚             â”‚  â”‚             â”‚  â”‚             â”‚  â”‚             â”‚       â”‚
â”‚  â”‚ 8x 5090     â”‚  â”‚ 8x 6000Ada  â”‚  â”‚ 8x 3090     â”‚  â”‚ ...         â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                              â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•   â”‚
â”‚                              LAN (10.0.0.x)                                  â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•   â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow

### 1. Client Deposit

```
Client (browser)
    â”‚
    â”‚ 1. Connect wallet
    â”‚ 2. Send USDC to vault.swarmledger.eth
    â–¼
Ethereum L1
    â”‚
    â”‚ 3. Transaction confirmed
    â–¼
SwarmLedger Watcher
    â”‚
    â”‚ 4. Detect deposit
    â”‚ 5. Credit client balance
    â–¼
swarmledger.db
    â”‚
    â”‚ accounts[xyz.clientswarm.eth].balance += $50
    â”‚ transactions += DEPOSIT record
    â–¼
Client dashboard shows updated balance
```

### 2. Job Execution

```
Client (xyz.clientswarm.eth)
    â”‚
    â”‚ 1. POST /api/v1/jobs (signed)
    â–¼
Bee-1 (swarmos.eth)
    â”‚
    â”‚ 2. GET /v1/balances/xyz.clientswarm.eth
    â–¼
SwarmLedger
    â”‚
    â”‚ 3. Return balance: $245.00
    â–¼
Bee-1
    â”‚
    â”‚ 4. POST /v1/balances/.../reserve ($0.10)
    â”‚ 5. Queue job in Redis
    â–¼
Bee-2 (bee-01.swarmbee.eth)
    â”‚
    â”‚ 6. Claim job
    â”‚ 7. Run MONAI inference
    â”‚ 8. Generate PoE hash
    â”‚ 9. POST /api/v1/jobs/{id}/complete
    â–¼
Bee-1
    â”‚
    â”‚ 10. POST /v1/balances/.../charge ($0.10)
    â”‚ 11. POST /v1/balances/bee-01.../credit ($0.07, pending)
    â–¼
SwarmLedger
    â”‚
    â”‚ accounts[client].balance -= $0.10
    â”‚ accounts[worker].pending += $0.07
    â”‚ transactions += JOB_CHARGE, EARNING (pending)
    â–¼
Job complete, client can fetch result
```

### 3. Epoch Settlement

```
Epoch Sealer (cron, every 24h)
    â”‚
    â”‚ 1. Collect completed jobs
    â”‚ 2. Build Merkle tree
    â”‚ 3. Calculate payouts
    â–¼
    â”‚
    â”‚ 4. POST /v1/epochs/{id}/seal
    â”‚    {
    â”‚      merkle_root: "7ec20e03...",
    â”‚      jobs_count: 248,
    â”‚      settlements: [
    â”‚        {worker: "bee-01...", earned: "17.36"},
    â”‚        {worker: "bee-02...", earned: "12.84"},
    â”‚      ]
    â”‚    }
    â–¼
SwarmLedger
    â”‚
    â”‚ 5. Finalize settlements
    â”‚    accounts[worker].pending â†’ balance
    â”‚    transactions += EARNING (finalized)
    â”‚
    â”‚ 6. Record epoch
    â”‚    epochs[002].status = "finalized"
    â”‚    epochs[002].merkle_root = "7ec20e03..."
    â–¼
IPFS
    â”‚
    â”‚ 7. Pin epoch bundle
    â”‚    audit/epoch-002/
    â”‚    â”œâ”€â”€ SUMMARY.json
    â”‚    â”œâ”€â”€ jobs.json
    â”‚    â”œâ”€â”€ agents.json
    â”‚    â””â”€â”€ SIGNATURE.txt
    â–¼
SwarmOrb
    â”‚
    â”‚ 8. Update index
    â”‚    swarmorb.eth.limo shows new epoch
    â–¼
Epoch finalized
```

### 4. Worker Withdrawal

```
Worker (bee-01.swarmbee.eth)
    â”‚
    â”‚ 1. POST /v1/withdrawals
    â”‚    {
    â”‚      amount: "50.00",
    â”‚      destination: "0xABC...",
    â”‚      signature: "0x..."
    â”‚    }
    â–¼
SwarmLedger
    â”‚
    â”‚ 2. Verify signature
    â”‚ 3. Check balance
    â”‚ 4. Create withdrawal request
    â”‚ 5. Reserve funds
    â–¼
Admin/Automated
    â”‚
    â”‚ 6. Process withdrawal
    â”‚ 7. Send USDC on L1
    â–¼
Ethereum L1
    â”‚
    â”‚ 8. Transaction confirmed
    â–¼
SwarmLedger
    â”‚
    â”‚ 9. Mark withdrawal complete
    â”‚    accounts[worker].balance -= $50
    â”‚    transactions += PAYOUT record
    â–¼
Worker receives USDC
```

## API Endpoints Summary

### Bee-1 Controller (api.swarmos.eth)

```
POST   /api/v1/jobs                    Submit job
GET    /api/v1/jobs/{id}               Job status
GET    /api/v1/jobs/{id}/receipt       Merkle receipt
POST   /api/v1/workers/register        Register worker
POST   /api/v1/workers/heartbeat       Worker heartbeat
POST   /api/v1/jobs/claim              Claim job
POST   /api/v1/jobs/{id}/complete      Complete job
GET    /api/v1/epochs/current          Current epoch
```

### SwarmLedger (api.swarmledger.eth)

```
GET    /v1/balances/{ens}              Get balance
POST   /v1/balances/{ens}/reserve      Reserve funds
POST   /v1/balances/{ens}/charge       Charge funds
POST   /v1/balances/{ens}/credit       Credit earnings
POST   /v1/deposits                    Record deposit
GET    /v1/deposits                    List deposits
POST   /v1/withdrawals                 Request withdrawal
GET    /v1/withdrawals/{id}            Withdrawal status
GET    /v1/transactions                Transaction history
GET    /v1/epochs                      List epochs
POST   /v1/epochs/{id}/seal            Seal epoch
POST   /v1/verify/receipt              Verify receipt
```

## Docker Compose (Full Stack)

```yaml
version: '3.8'

services:
  # Bee-1 Controller
  bee1:
    build: ./swarmos-backend/bee1
    ports: ["8000:8000"]
    environment:
      - LEDGER_URL=http://ledger:8100
      - REDIS_URL=redis://redis:6379/0
    depends_on: [ledger, redis]

  # SwarmLedger
  ledger:
    build: ./swarmledger
    ports: ["8100:8100"]
    volumes:
      - ledger_data:/app/data

  # Redis
  redis:
    image: redis:7-alpine
    ports: ["6379:6379"]

  # IPFS
  ipfs:
    image: ipfs/kubo:latest
    ports: ["5001:5001", "8080:8080"]

  # Bee-2 Workers (add per GPU node)
  bee2-01:
    build: ./swarmos-backend/bee2
    environment:
      - WORKER_ENS=bee-01.swarmbee.eth
      - BEE1_URL=http://bee1:8000
    depends_on: [bee1]

volumes:
  ledger_data:
```

## Deployment Checklist

### Phase 1: Landing Pages âœ…
- [x] swarmorb.eth.limo (LIVE)
- [x] swarmos.eth.limo (ready)
- [x] clientswarm.eth.limo (ready)
- [x] swarmledger.eth.limo (ready)

### Phase 2: Backend Services
- [ ] Deploy Bee-1 Controller
- [ ] Deploy SwarmLedger API
- [ ] Deploy Redis
- [ ] Deploy IPFS node
- [ ] Configure DNS/ENS resolution

### Phase 3: Worker Nodes
- [ ] Set up Bee-2 on GPU rack 1 (5090s)
- [ ] Set up Bee-3 on GPU rack 2 (6000 Adas)
- [ ] Set up Bee-4 on GPU rack 3 (3090s)
- [ ] Test job execution flow

### Phase 4: Settlement
- [ ] Configure epoch sealer cron
- [ ] Test epoch settlement flow
- [ ] Verify SwarmOrb integration
- [ ] Test receipt verification

### Phase 5: Payments
- [ ] Set up USDC vault address
- [ ] Deploy deposit watcher
- [ ] Test deposit flow
- [ ] Test withdrawal flow

---

*This is the complete SwarmOS stack. Sovereign compute infrastructure.*

ğŸğŸ’°âš¡
